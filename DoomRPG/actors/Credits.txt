// Base Credits Class
actor DRPGCredits : Inventory
{
    Inventory.MaxAmount 1000000000
}

// Empty Credits
actor DRPGCreditsEmpty
{
    BounceType Classic
    BounceFactor 0.5
    WallBounceFactor 0.5
    
    scale 0.5
        
    States
    {
    Spawn:
        CBRD A 1
    FadeOut:
        CBRD A 1 A_FadeOut(0.0025, true)
        Loop
    }
}

// 1 Credit - Green
actor DRPGCredits1 : CustomInventory 20020
{
    scale 0.5
    
    Inventory.PickupMessage "You got a \cdCredit\c-."
    Inventory.PickupSound "credits/pickup"
    
    States
    {
    Spawn:
        CRED A -1 Bright
        Stop
    Pickup:
        TNT1 A 0 A_GiveInventory("DRPGCredits", 1)
        TNT1 A 0 A_SpawnItemEx("DRPGCreditsEmpty", 0, 0, 48, Random(-4, -1), 0, 0)
        Stop
    }
}

// 5 Credits - Blue
actor DRPGCredits5 : DRPGCredits1 20021
{
    Inventory.PickupMessage "You got \cn5 Credits\c-."
    
    States
    {
    Spawn:
        CRED B -1 Bright
        Stop
    Pickup:
        TNT1 A 0 A_GiveInventory("DRPGCredits", 5)
        TNT1 A 0 A_SpawnItemEx("DRPGCreditsEmpty", 0, 0, 48)
        Stop
    }
}

// 10 Credits - Yellow
actor DRPGCredits10 : DRPGCredits1 20022
{
    Inventory.PickupMessage "You got \cf10 Credits\c-."
    
    States
    {
    Spawn:
        CRED C -1 Bright
        Stop
    Pickup:
        TNT1 A 0 A_GiveInventory("DRPGCredits", 10)
        TNT1 A 0 A_SpawnItemEx("DRPGCreditsEmpty", 0, 0, 48)
        Stop
    }
}
// 20 Credits - Red
actor DRPGCredits20 : DRPGCredits1 20023
{
    Inventory.PickupMessage "You got \ca20 Credits\c-."
    
    States
    {
    Spawn:
        CRED D -1 Bright
        Stop
    Pickup:
        TNT1 A 0 A_GiveInventory("DRPGCredits", 20)
        TNT1 A 0 A_SpawnItemEx("DRPGCreditsEmpty", 0, 0, 48)
        Stop
    }
}
// 50 Credits - Purple
actor DRPGCredits50 : DRPGCredits1 20024
{
    Inventory.PickupMessage "You got \ct50 Credits\c-."
    
    States
    {
    Spawn:
        CRED E -1 Bright
        Stop
    Pickup:
        TNT1 A 0 A_GiveInventory("DRPGCredits", 50)
        TNT1 A 0 A_SpawnItemEx("DRPGCreditsEmpty", 0, 0, 48)
        Stop
    }
}
// 100 Credits - Orange
actor DRPGCredits100 : DRPGCredits1 20025
{
    Inventory.PickupMessage "You got \ci100 Credits\c-."
    
    States
    {
    Spawn:
        CRED F -1 Bright
        Stop
    Pickup:
        TNT1 A 0 A_GiveInventory("DRPGCredits", 100)
        TNT1 A 0 A_SpawnItemEx("DRPGCreditsEmpty", 0, 0, 48)
        Stop
    }
}

// 1000 Credits - Rainbow
actor DRPGCredits1000 : DRPGCredits1 20026
{
    Inventory.PickupMessage "You got 1000 \cjC\cdr\cne\cfd\cai\ctt\cis\c-! Holy Crap!"
    
    States
    {
    Spawn:
        CRED ABCDEFEDCB 2 Bright
        Loop
    Pickup:
        TNT1 A 0 A_GiveInventory("DRPGCredits", 1000)
        TNT1 A 0 A_SpawnItemEx("DRPGCreditsEmpty", 0, 0, 48)
        Stop
    }
}

// UAC Card
actor DRPGUACCard : Inventory
{
    scale 0.33
    
    Inventory.Amount 1
    Inventory.MaxAmount 5
    Inventory.PickupMessage "You got a UAC Card!"
    Inventory.PickupSound "credits/pickup"
    
    States
    {
    Spawn:
        TNT1 A 0
        TNT1 A 0 A_JumpIf(CallACS("GetShopCard") == 0, "CardBronze")
        TNT1 A 0 A_JumpIf(CallACS("GetShopCard") == 1, "CardSilver")
        TNT1 A 0 A_JumpIf(CallACS("GetShopCard") == 2, "CardGold")
        TNT1 A 0 A_JumpIf(CallACS("GetShopCard") == 3, "CardPlatinum")
        TNT1 A 0 A_JumpIf(CallACS("GetShopCard") >= 4, "CardDiamond")
        Stop
    CardBronze:
        UCRD A -1 Bright
        Stop
    CardSilver:
        UCRD B -1 Bright
        Stop
    CardGold:
        UCRD C -1 Bright
        Stop
    CardPlatinum:
        UCRD D -1 Bright
        Stop
    CardDiamond:
        UCRD E -1 Bright
        Stop
    }
}
